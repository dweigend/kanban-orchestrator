# MCP Server Registry Configuration
# Defines available MCP servers for agent orchestration

defaults:
  allowed_mcps:
    - filesystem
  template: null

servers:
  # ─────────────────────────────────────────────────────────────
  # Internal MCP Servers (part of kanban-orchestrator)
  # ─────────────────────────────────────────────────────────────
  filesystem:
    enabled: true
    command: python
    args: ["-m", "src.mcp_servers.filesystem.server"]
    env:
      WORKSPACE_PATH: "${WORKSPACE_PATH}"
    description: "Filesystem operations in workspace"

  # ─────────────────────────────────────────────────────────────
  # External MCP Servers (from ~/mcp_code)
  # ─────────────────────────────────────────────────────────────
  github_simple:
    enabled: true
    command: uv
    args: ["--directory", "/Users/davidweigend/mcp_code/github_simple", "run", "python", "main.py"]
    env:
      GITHUB_TOKEN: "${GITHUB_TOKEN}"
    description: "GitHub read-only access (search repos, code, get files)"

  perplexity:
    enabled: true
    command: uv
    args: ["--directory", "/Users/davidweigend/mcp_code/perplexity_code", "run", "python", "server.py"]
    env:
      PERPLEXITY_API_KEY: "${PERPLEXITY_API_KEY}"
    description: "Web search and research via Perplexity AI"
